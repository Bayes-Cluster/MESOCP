shiny::runApp()
install.packages("sf")
install.packages("sf", dep = T)
library(sf)
library(devtools)
install.packages("devtools")
library(devtools)
install_github("r-spatial/sf")
install.packages("classInt",dependencies = T)
install.packages("classInt",dependencies = T)
install_github("r-spatial/sf")
install.packages("units",dependencies = T)
install_github("r-spatial/sf")
install.packages("rnaturalearth")
library(sf)
install.pacakges("sf", dep = T)
install.packages("sf", dep = T)
install.pacakges('tmaptools')
install.packages('tmaptools')
install.packages("units")
install.packages("units")
install.packages("sf", dep = T)
install.packages("sf", dep = T)
install.packages("sf", dep = T)
remotes::install_github("rspatial/terra")
devtools::install_version("rgdal")
shiny::runApp()
library(tidyverse)
library(sf)
library(rnaturalearth)
library(rnaturalearthdata)
library(lubridate)
library(RCurl)
x <- Sys.Date() - 1
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
shiny::runApp()
library(shiny)
library(shinydashboard)
library(ggplot2)
library(limma)
library(DT)
library(tidyverse)
library(plotly)
library(vroom)
library(HiDimDA)
library(e1071)
library(randomForest)
library(dplyr)
library(stringr)
library(tools)
shiny::runGitHub(
repo = "DATA3888_COVID_shiny",
username = "abdullahsafi",
ref = "main")
url = "https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/11-20-2020.csv"
a <- getUrl(url)
a <- getURL(url)
library(tidyverse)
library(sf)
library(rnaturalearth)
library(rnaturalearthdata)
library(lubridate)
library(RCurl)
# System proxy
# Sys.setenv(http_proxy="http://127.0.0.1:2340")
# Sys.setenv(https_proxy="https://127.0.0.01:2340")
x <- Sys.Date() - 1
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
if(jh_url == "404: Not Found"){
x <- Sys.Date() - 2
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
}
jh <- read.csv(text = jh_url)
uid_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/UID_ISO_FIPS_LookUp_Table.csv")
uid_lookup <- read.csv(text = uid_url)
confirmed_ts_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv")
conf_ts <- read.csv(text = confirmed_ts_url)
deaths_ts_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv")
deaths_ts <- read.csv(text = deaths_ts_url)
recovered_ts_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv")
recovered_ts <- read.csv(text = recovered_ts_url)
jh_total <- jh %>%
#  filter(Active >= 0) %>%
group_by(Country_Region) %>%
summarise(Lat = first(Lat), Long_ = first(Long_),
Confirmed = sum(Confirmed), Deaths = sum(Deaths),
Recovered = sum(Recovered), Active = sum(Active),
Incidence_Rate = mean(Incident_Rate, na.rm = TRUE),
Case.Fatality_Ratio = mean(Case_Fatality_Ratio, na.rm = TRUE),
.groups = "keep")
world <- ne_countries(scale = 110, returnclass = "sf")
for(i in seq_along(jh$Country_Region)){
jh$iso3[i] <- head(uid_lookup[uid_lookup$Country_Region == jh$Country_Region[i],]$iso3, n = 1)
}
world <- left_join(world, jh_total, by=c("iso_a3" = "iso3"))
library(tidyverse)
library(sf)
library(rnaturalearth)
library(rnaturalearthdata)
library(lubridate)
library(RCurl)
# System proxy
# Sys.setenv(http_proxy="http://127.0.0.1:2340")
# Sys.setenv(https_proxy="https://127.0.0.01:2340")
x <- Sys.Date() - 1
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
if(jh_url == "404: Not Found"){
x <- Sys.Date() - 2
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
}
jh <- read.csv(text = jh_url)
uid_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/UID_ISO_FIPS_LookUp_Table.csv")
uid_lookup <- read.csv(text = uid_url)
confirmed_ts_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv")
conf_ts <- read.csv(text = confirmed_ts_url)
deaths_ts_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv")
deaths_ts <- read.csv(text = deaths_ts_url)
recovered_ts_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv")
recovered_ts <- read.csv(text = recovered_ts_url)
jh_total <- jh %>%
#  filter(Active >= 0) %>%
group_by(Country_Region) %>%
summarise(Lat = first(Lat), Long_ = first(Long_),
Confirmed = sum(Confirmed), Deaths = sum(Deaths),
Recovered = sum(Recovered), Active = sum(Active),
Incidence_Rate = mean(Incident_Rate, na.rm = TRUE),
Case.Fatality_Ratio = mean(Case_Fatality_Ratio, na.rm = TRUE),
.groups = "keep")
world <- ne_countries(scale = 110, returnclass = "sf")
for(i in seq_along(jh_total$Country_Region)){
jh_total$iso3[i] <- head(uid_lookup[uid_lookup$Country_Region == jh_total$Country_Region[i],]$iso3, n = 1)
}
world <- left_join(world, jh_total, by=c("iso_a3" = "iso3"))
library(tidyverse)
library(sf)
library(rnaturalearth)
library(rnaturalearthdata)
library(lubridate)
library(RCurl)
# System proxy
# Sys.setenv(http_proxy="http://127.0.0.1:2340")
# Sys.setenv(https_proxy="https://127.0.0.01:2340")
x <- Sys.Date() - 1
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
if(jh_url == "404: Not Found"){
x <- Sys.Date() - 2
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
}
jh <- read.csv(text = jh_url)
uid_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/UID_ISO_FIPS_LookUp_Table.csv")
uid_lookup <- read.csv(text = uid_url)
confirmed_ts_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv")
conf_ts <- read.csv(text = confirmed_ts_url)
deaths_ts_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv")
deaths_ts <- read.csv(text = deaths_ts_url)
recovered_ts_url <- getURL("https://raw.githubuser
)
""
")
library(tidyverse)
library(sf)
library(rnaturalearth)
library(rnaturalearthdata)
library(lubridate)
library(RCurl)
# System proxy
# Sys.setenv(http_proxy="http://127.0.0.1:2340")
# Sys.setenv(https_proxy="https://127.0.0.01:2340")
x <- Sys.Date() - 1
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
if(jh_url == "404: Not Found"){
x <- Sys.Date() - 2
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
}
jh <- read.csv(text = jh_url)
uid_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/UID_ISO_FIPS_LookUp_Table.csv")
uid_lookup <- read.csv(text = uid_url)
confirmed_ts_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv")
conf_ts <- read.csv(text = confirmed_ts_url)
deaths_ts_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv")
deaths_ts <- read.csv(text = deaths_ts_url)
recovered_ts_url <- getURL("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv")
recovered_ts <- read.csv(text = recovered_ts_url)
Sys.setenv(http_proxy="http://127.0.0.1:2340")
Sys.setenv(https_proxy="https://127.0.0.01:2340")
x <- Sys.Date() - 1
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
if(jh_url == "404: Not Found"){
x <- Sys.Date() - 2
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
}
jh <- read.csv(text = jh_url)
library(tidyverse)
library(sf)
library(rnaturalearth)
library(rnaturalearthdata)
library(lubridate)
library(RCurl)
# System proxy
# Sys.setenv(http_proxy="http://127.0.0.1:2340")
# Sys.setenv(https_proxy="https://127.0.0.01:2340")
x <- Sys.Date() - 1
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
if(jh_url == "404: Not Found"){
x <- Sys.Date() - 2
x <- format(x,"%m-%d-%Y")
url_str <- paste("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/", x, ".csv", sep = "")
jh_url <- getURL(url_str)
}
jh <- read.csv(text = jh_url)
